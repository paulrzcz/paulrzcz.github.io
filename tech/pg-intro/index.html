<!DOCTYPE html>
<html lang="en-us" dir="ltr" prefix="og: http://ogp.me/ns#" id="top-of-site">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no">

    <link rel="canonical" href="https://paulrz.cz/tech/pg-intro/">

    <title>PostgreSQL and its quirks - PaulRz</title>
    <meta name="description" content="From the beginning of my career I&amp;rsquo;ve always been working with Oracle Database, from 8i till 12c, on online transaction processing (OLTP). The database is …">
    <meta name="keywords" content="software, development, architecture, management, , clean">

    <meta name="author" content="PaulRz">
    <meta name="generator" content="Hugo 0.110.0">

    
    <link crossorigin="anonymous" href="/css/stylesheet.min.b72470296d30baad44974c775258db89dc088ade7ebc5ab0817131c8b36ccc48.css" integrity="sha256-tyRwKW0wuq1El0x3UljbidwIit5+vFqwgXExyLNszEg=" rel="preload stylesheet" as="style">

    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="icon" href="/icon-192.png" sizes="192x192" type="image/png">
    <link rel="icon" href="/icon-512.png" sizes="512x512" type="image/png">
    
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <link rel="manifest" type="application/manifest+json" href="/manifest.webmanifest" title="Manifest">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" title="Sitemap">
    <link rel="author" type="text/plain" href="/humans.txt" title="Humans">


    <meta name="theme-color" content="#ffffff">    
    <meta property="og:title" content="PostgreSQL and its quirks - PaulRz">
    <meta property="og:description" content="From the beginning of my career I&amp;rsquo;ve always been working with Oracle Database, from 8i till 12c, on online transaction processing (OLTP). The database is …">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://paulrz.cz/tech/pg-intro/">
    <meta property="og:image" content="https://paulrz.cz/img/open-graph-logo.png">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta property="article:published_time" content="2023-11-10T00:00:00">
    <meta property="article:modified_time" content="2023-11-10T00:00:00">
    
    <meta name="twitter:title" content="PostgreSQL and its quirks - PaulRz">
    <meta name="twitter:description" content="From the beginning of my career I&amp;rsquo;ve always been working with Oracle Database, from 8i till 12c, on online transaction processing (OLTP). The database is …">
    <meta name="twitter:site" content="@paulrzcz">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://paulrz.cz/img/open-graph-logo.png">
    

<script type="application/ld+json" id="schema-data">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://paulrz.cz/tech/pg-intro/"
        },
        "url": "https://paulrz.cz/tech/pg-intro/",
        "headline": "PostgreSQL and its quirks - PaulRz",
        "description": "From the beginning of my career I\u0026amp;rsquo;ve always been working with Oracle Database, from 8i till 12c, on online transaction processing (OLTP). The database is …",
        "keywords": ["software","development","architecture","management",null,"clean"],
        "datePublished": "2023-11-10T00:00:00Z",
        "dateModified": "2023-11-10T00:00:00Z",
            "author": {
                "@type": "Person",
                "name": "PaulRz"
            },
        "publisher": {
            "@type": "Organization",
            "name": "Pavel Ryžov",
            "logo": {
                "@type": "ImageObject",
                "url": "https://paulrz.cz/img/open-graph-logo_hu649006a96c7f6a02c0a48e2d90a9a7b0_5229_96x96_resize_box_3.png",
                "width": "96",
                "height": "96"
            }
        }
    }
</script>



    <script src="/js/common.js"></script>
</head>

    <body class="theme-base-blue">
        <div id="top-of-site-anchor"></div>
        
            
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<aside class="sidebar" id="sidebar">
    <div class="sidebar-item">
        <p>PaulRz - Pavel Ryžov architect and manager with 20 years of experience</p>
    </div>

    <nav class="sidebar-nav">
            <a class="sidebar-nav-item"
                href="/"
                id="menu-main-home">Home</a>
            <a class="sidebar-nav-item"
                href="/about/"
                id="menu-main-about">About</a>
            <a class="sidebar-nav-item"
                href="/tech/"
                id="menu-main-tech">Tech Notes</a>
            <a class="sidebar-nav-item"
                href="/books/"
                id="menu-main-books">Books' reviews</a>
            <a class="sidebar-nav-item"
                href="/search/"
                id="menu-main-search">Search</a>
            <a class="sidebar-nav-item"
                href="/contact/"
                id="menu-main-contact">Contact</a>
            <a class="sidebar-nav-item"
                href="https://github.com/paulrzcz/"
                id="menu-main-github" target="_blank" rel="noopener noreferrer">GitHub Project</a>
        <span class="hypothesis-container">
    <a class="sidebar-nav-item" id="hypothesis-link" href="#">Annotate me</a>
</span>

            <div class="sidebar-nav-item">
                    
                    <a href="/feeds/feed.rss.xml" id="menu-feeds-rss" class="menu-feeds-item" data-feed-type="rss">RSS 2.0</a>
                
                    <span aria-hidden="true">|</span>
                    <a href="/feeds/feed.atom.xml" id="menu-feeds-atom" class="menu-feeds-item" data-feed-type="atom">Atom</a>
                
                    <span aria-hidden="true">|</span>
                    <a href="/feeds/feed.json" id="menu-feeds-json" class="menu-feeds-item" data-feed-type="json">Json Feed</a>
                
            </div>
        
    </nav>

    
    <div class="sidebar-item">
        <p>Built with <a href="https://github.com/sergeyklay/gohugo-theme-ed" target="_blank" rel="noopener noreferrer">Ed</a>. Distributed under an MIT license.</p>
    </div>


</aside>

        
        <div class="wrap">
            <header class="masthead">
                <div class="container">
                    <h3 class="masthead-title">
                        <a href="/" title="Home">PaulRz</a>
                        <br><small>Building Software That Lasts</small>
                    </h3>
                </div>
            </header>

            <main class="container content" id="main">
                <article class="tech" role="document">
    <header>
        <h1 class="text-title">
            PostgreSQL and its quirks
        </h1>
        <p class="byline">
            
                


Published on
<time datetime="2023-11-10T00:00:00Z">
    November 10, 2023
</time>




            
        </p>
    </header>

    <div class="tech-body">
        <p>From the beginning of my career I&rsquo;ve always been working with Oracle Database, from 8i till 12c, on online transaction processing (OLTP).
The database is safe, reliable and - <a href="https://asktom.com">Ask Tom!</a> - it&rsquo;s great. And as saying goes, &ldquo;you&rsquo;ve never got in trouble by buying Oracle&rdquo;.</p>
<p>OLTP loads usually require low latency and high transaction rate.
Under different load profiles it was quite simple to come up with a solution of any performance problem.
The approaches might differ but in fact you choose either smart way or money bag way.</p>
<p>And finally I&rsquo;ve landed on a project with initial requirements: 10k transaction per second and - oh my gosh! - PostgreSQL 11.
Sounds like a challenge for me! Moreover, I&rsquo;ve never seen any production-grade use of this DB.
Not even saying, about highly concurrent and highly loaded scenarios.
For me, PostgreSQL was always a toy db or for small projects.</p>
<p>Reading the PostgreSQL documentation reminded me late 90&rsquo;s MSDN on CD-ROM that contained all you need for Win32 development but the information was sparsed through all the docs. So one just ended up with reading it inside out and developing a new telepathy skill.</p>
<p>Those were my first notes that I&rsquo;d extracted from the PostgreSQL documentation:</p>
<ol>
<li>Updates are, in fact, deletes and inserts.</li>
<li>BLOBs are stored in the separate table - TOAST.</li>
<li>There is more then one way to partition tables with unclear consequences.</li>
<li>There is more then one way to build a cluster</li>
<li>Manual read load distribution, i.e. PG doesn&rsquo;t do anything to offload reads to standby nodes. DIY!</li>
</ol>
<p>Stay tuned!</p>

    </div>

    
    
        

<div class="tags-wrapper">
    <ul class="post-tags">
        
    </ul>
</div>

    
</article>

            </main>
        </div>

        <label for="sidebar-checkbox" class="sidebar-toggle"></label>

        <a href="#top-of-site" class="top-of-site-link" data-visible="false">
            <span class="screen-reader-text" aria-label="Back to top of the page">
                Back to top
            </span>
            <svg width="32" height="32" viewBox="0 0 100 100">
                <path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z"></path>
            </svg>
        </a>
    </body>
</html>
